<VirtualHost *:80>
    ServerName your-domain.com
    ServerAlias www.your-domain.com
    DocumentRoot /path/to/your/gymsaas/gymapp/public
    
    # Redirect HTTP to HTTPS (uncomment when SSL is configured)
    # Redirect permanent / https://your-domain.com/
    
    <Directory /path/to/your/gymsaas/gymapp/public>
        AllowOverride All
        Require all granted
        
        # Security headers
        Header always set X-Content-Type-Options nosniff
        Header always set X-Frame-Options DENY
        Header always set X-XSS-Protection "1; mode=block"
        Header always set Referrer-Policy "strict-origin-when-cross-origin"
    </Directory>
    
    # Handle Laravel routing
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]
    
    # File upload limits
    php_value upload_max_filesize 10M
    php_value post_max_size 10M
    php_value max_execution_time 300
    php_value max_input_time 300
    php_value memory_limit 256M
    
    # Logging
    ErrorLog ${APACHE_LOG_DIR}/gymsaas_error.log
    CustomLog ${APACHE_LOG_DIR}/gymsaas_access.log combined
</VirtualHost>

# HTTPS Configuration (uncomment and configure when SSL is ready)
# <VirtualHost *:443>
#     ServerName your-domain.com
#     ServerAlias www.your-domain.com
#     DocumentRoot /path/to/your/gymsaas/gymapp/public
#     
#     SSLEngine on
#     SSLCertificateFile /path/to/your/certificate.crt
#     SSLCertificateKeyFile /path/to/your/private.key
#     SSLCertificateChainFile /path/to/your/chain.crt
#     
#     # Same configuration as above
#     <Directory /path/to/your/gymsaas/gymapp/public>
#         AllowOverride All
#         Require all granted
#     </Directory>
#     
#     RewriteEngine On
#     RewriteCond %{REQUEST_FILENAME} !-d
#     RewriteCond %{REQUEST_FILENAME} !-f
#     RewriteRule ^ index.php [L]
#     
#     ErrorLog ${APACHE_LOG_DIR}/gymsaas_ssl_error.log
#     CustomLog ${APACHE_LOG_DIR}/gymsaas_ssl_access.log combined
# </VirtualHost> 